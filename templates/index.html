<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>스마트 홈 IOT 보안 시스템</title>
      <link rel="stylesheet" type="text/css" href="./static/projectStyleSheet.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js" type="text/javascript"></script>
      <script src= "./static/project.js" type="text/javascript"></script>
      <script>
            window.addEventListener("load", function () {
                // http://224..129:8080/에서 224...의 IP만 끊어내는 코드
                var url = new String(document.location);
                ip = (url.split("//"))[1]; // ip = "224...:8080/"
                ip = (ip.split(":"))[0]; // ip = "224..."
                document.getElementById("broker").value = ip
            });
      </script>
   </head>
   <body>
         <h1>스마트 홈 IOT 보안 시스템</h1>
         <hr> 
         <div id="centeralign">
         <h3 id="highlight-title">연결 관리</h3>
         </div>
         <form id="connection-form">
            <b>브로커 IP:</b>
            <input id="broker" type="text" name="broker" value=""><br>
            <b>포트 번호 : 9001</b><br>
            <input type="button" onclick="connect()" value="Connect">
            <input type="button" onclick="disconnect()" value="Disconnect">
         </form>
            <div id="connect-message"></div>

         
        <hr>
        <div id="centeralign">
        <h3 id="highlight-title">온도 보기</h3>
        </div>
         <form id="invade-form">
            <input type="button" onclick="subscribe('temp')" value="온도 보기">
            <input type="button" onclick="unsubscribe('temp')" value="그만 보기">
         </form>
            <div id="temp-messages"></div>
         <hr>
         <div id="centeralign">
         <h3 id="highlight-title">실시간 영상 보기</h3>
         </div>
            <form id="streaming-form">
            <input type="button" onclick="switchToCCTV()" value="영상 보기">
            </form>
      <div id="imageContainer" style="text-align: center;"> <!-- 중앙 정렬을 위한 컨테이너 추가 -->
         <div id="alertImage" style="display:none;">
            <img id="fireImg" src=""  width="320" height="240"/>
            <img id="thiefImg" src=""  width="320" height="240"/>
        </div>
      </div>

         <div id="messages"></div>
   </body>
</html>


